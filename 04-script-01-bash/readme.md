#### 1. Есть скрипт:

```bash
a=1
b=2
c=a+b
d=$a+$b
e=$(($a+$b))
```
* **Какие значения переменным c,d,e будут присвоены?**
* **Почему?**

Будут присвоены следующие значения:

* `c = a+b` — потому что у нас нет никакого указания на переменные, по сути, мы просто определяем переменную `c` как строку "a+b".

* `d = 1+2` — не хватает скобок, поэтому мы оперируем `a` и `b` как строками, не числами.

* `e = 3` — в этом случае все хорошо, мы оперируем переменными как числами и складываем числа, на выходе получаем числа. 

Проверим это в терминале:
```bash
Opalennyi-iMac-2:~ opalennyi$ a=1
Opalennyi-iMac-2:~ opalennyi$ b=2
Opalennyi-iMac-2:~ opalennyi$ c=a+b && echo $c
a+b
Opalennyi-iMac-2:~ opalennyi$ d=$a+$b && echo $d
1+2
Opalennyi-iMac-2:~ opalennyi$ e=$(($a+$b)) && echo $e
3
```

#### 2. На нашем локальном сервере упал сервис и мы написали скрипт, который постоянно проверяет его доступность, записывая дату проверок до тех пор, пока сервис не станет доступным. В скрипте допущена ошибка, из-за которой выполнение не может завершиться, при этом место на Жёстком Диске постоянно уменьшается. Что необходимо сделать, чтобы его исправить:
```bash
while ((1==1)
do
curl https://localhost:4757
if (($? != 0))
then
date >> curl.log
fi
done
```

Не хватает скобки в первой строчке, должно быть: `while ((1==1))`.

Не хватает проверки успешности, чтобы мы могли выйти из скрипта. В текущем варианте мы будем продолжать проверять сервис бесконечно, даже если он станет доступен (в случае доступности только перестанем записывать дату в лог).

В принципе, слишком частая проверка тоже ускоряет забивание лог-файла и, следовательно, места на жестком диске. Можно добавить таймаут проверок.

Тогда скрипт будет выглядеть так:
```bash
while ((1==1))
do
  curl https://localhost:4757
  if (($? != 0))
  then
    date >> curl.log
  else
    exit
  fi
  sleep 2
done
```

#### 3. Необходимо написать скрипт, который проверяет доступность трёх IP: 192.168.0.1, 173.194.222.113, 87.250.250.242 по 80 порту и записывает результат в файл log. Проверять доступность необходимо пять раз для каждого узла.

```bash
#!/usr/bin/env bash

declare -i i=0
ip=(192.168.0.1 173.194.222.113 87.250.250.242)
while ((i<5))
do
  for x in ${ip[@]}
  do
    curl $x:80 --connect-timeout 5
    if (($? != 0))
    then
      date >> curl.log && echo "$x isn't available" >> curl.log
    else
      date >> curl.log && echo "$x is available" >> curl.log
    fi
  done
let "i+=1"
done
```

#### 4. Необходимо дописать скрипт из предыдущего задания так, чтобы он выполнялся до тех пор, пока один из узлов не окажется недоступным. Если любой из узлов недоступен - IP этого узла пишется в файл error, скрипт прерывается

```bash
#!/usr/bin/env bash
 
declare -i i=0
ip=(192.168.0.1 173.194.222.113 87.250.250.242)
while ((i<5))
do
  for x in ${ip[@]}
  do
    curl $x:80 --connect-timeout 5
    if (($? != 0))
    then
      date >> curl.log && echo "$x isn't available" >> curl.log
      echo $x >> error.log
      exit
    else
      date >> curl.log && echo "$x is available" >> curl.log
    fi
  done
let "i+=1"
done
```